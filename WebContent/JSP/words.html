<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title></title>
		<link rel="stylesheet" href="css/bootstrap.min.css" />
		<link rel="stylesheet" href="css/own.css" />
		<script type="text/javascript" src="js/jquery-3.0.0.min.js">
		</script>

		<script type="text/javascript">
			window.onload = function() {
				$.ajax({
					type: "post",
					url: "wordsToUI",
					dataType: "text",
					success: function(json) {
						var obj = $.parseJSON(json);
						var json_value = obj.result;
						alert(json_value);
					},
					error: function(XMLHttpRequest, textStatus, errorThrown) {
						alert(XMLHttpRequest.status);
						alert(XMLHttpRequest.readyState);
						alert(textStatus);
						alert("in the words");
					}
				});
			}

			function play() {
				var s = "string";
				//$("#hellp").append('<audio src="http://res.iciba.com/resource/amp3/oxford/0/76/a1/76a1bdc8e3f7da3b656751b2f8e4ac9a.mp3" autoplay="autoplay"></audio>');
				for(var i = 0; i < 7; i++) {
					var tr1 = $("<tr></tr>");
					var s1 = "<audio src=\"http://res.iciba.com/resource/amp3/oxford/0/76/a1/76a1bdc8e3f7da3b656751b2f8e4ac9a.mp3\" autoplay=\"autoplay\"></audio>";
					var path = 'http://res.iciba.com/resource/amp3/oxford/0/76/a1/76a1bdc8e3f7da3b656751b2f8e4ac9a.mp3' + i;
					var td0 = $('<td id="tdhere"></td>');
					td0.index = i;
					td0.html('<a id="' + path + '" href="javascript:void(0)" name="' + i + '" onmouseover="appendstm(this)">' + s + '0</a>')
					var td1 = $("<td>" + s + "1</td>");
					var td2 = $("<td>" + s + "2</td>");
					tr1.append(td0);
					tr1.append(td1);
					tr1.append(td2);
					$("tbody").append(tr1);
				}
			}

			function appendstm(e) {
				//event.target.name 能够成功获取属性为name的值，但是自己添加的属性值好像并不会被获取

				alert(event.target.name);
				var sname = 'a[name="' + event.target.name + '"]';
				//利用jquery选择器是可以用字符串的
				$(sname).append('<audio src="' + event.target.id + '" autoplay="autoplay"></audio>');

				//由于name和id的值是在创建的时候加上去的，因此每当鼠标滑过音标时，便会动态添加发音。
			}
		</script>

	</head>

	<body>
		<div class="container" style="border: dashed #269ABC 1px;width: 800px;">
			<h1>
				<span class="label label-info">CET-6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x words still left</span>
			</h1>
			<div class="row">
				<div class="col-md-6">
					<table class="table table-striped" style="width:700px;">
						<thead>
							<tr>
								<th>word</th>
								<th>Symbol</th>
								<th>means</th>
							</tr>
						</thead>
						<tbody>

						</tbody>
					</table>
				</div>
			</div>

			<p>
				<a href="testPage.html"><button style="float:right" type="button" class="btn btn-lg btn-success">Test</button></a>
			</p>
			<a id="hellp" href="1234" onmouseover="play()">[ˈlʌntʃən]</a>
			</br>
			<a name="clicks_name" href="javascript:void(0)" onmouseout="click1()">clickme</a>
		</div>
	</body>

</html>